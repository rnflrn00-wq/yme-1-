# YouTube Memo 기능 정리 & 디자인 시스템 기준

## 1) 플러그인 기능 전체 정리

### A. 메모 저장/수정/삭제
- 기본(메인) 메모 저장: 현재 영상의 `time=0` 메모로 저장.
- 시간 메모 저장: 현재 재생 시간을 조회해 타임스탬프 메모로 저장.
- 메모 수정/삭제: 시간 메모별 메뉴(⋯)에서 수정/삭제.
- 영상 단위 전체 삭제: 카드의 `삭제` 버튼으로 해당 영상 메모 일괄 삭제.

### B. 팝업 메인 화면
- 현재 활성 유튜브 영상 제목/재생 시간 표시.
- 메모 입력창 + 기본 메모 저장 버튼 + 현재 시간 저장 버튼.
- 플레이어 메모 표시 on/off 토글.
- 최근 등록 메모(최대 5개) 표시 및 기록 삭제.

### C. 메모 리스트 화면
- 채널별 그룹화, 현재 재생 영상/채널 우선 정렬.
- 제목/채널/메인 메모/시간 메모 텍스트 통합 검색.
- 썸네일 + 메인 메모 카드 클릭 시 시간 메모 전용 바텀시트 오픈.
- 바텀시트에서 시간 메모 이동(클릭 시 해당 시점 이동), 수정/삭제 가능.
- 재생 중인 시간 메모 하이라이트 지원.

### D. 콘텐츠 오버레이(유튜브 플레이어 상)
- 메인 메모: 영상 진입/강제 표시/메모 갱신 시 표시 후 자동 숨김.
- 시간 메모: 타임스탬프 도달 시 표시, 중복 노출 방지 상태 관리.
- 화면 상태 대응: 전체화면/경계 마우스 위치/토글 상태에 따라 표시 제어.

### E. 데이터/운영
- `chrome.storage.local` 기반 저장.
- 백업(JSON) / 복원(JSON) / 전체 데이터 삭제.
- 기존 탭 재사용 및 특정 시간 이동 재생 지원.

---

## 2) 디자인 시스템 구축용 UI/UX 요구사항 (코드 정리 기준)

## 2-1. 토큰 계층
- **Color tokens**: 배경/텍스트/보더/브랜드/위험색을 토큰으로만 사용.
- **Typography tokens**: `xs/sm/md` 폰트 스케일 고정.
- **Spacing tokens**: `space-1~5`만 사용하고 매직 넘버 최소화.
- **Radius tokens**: 컴포넌트 라운드 일관화.
- **Layout tokens**: 팝업 폭/높이, 썸네일 크기 토큰화.

## 2-2. 컴포넌트 계층
- Foundation: `:root`, reset, `body` 기본 규칙.
- Primitives: `ds-btn`, `ds-input`, `switch`, `modal`.
- Patterns: `memo-item`, `channel-group`, `time-memo-sheet`.
- Utilities: `.hidden`, `.click-target`, `.memo-link`.

## 2-3. 인터랙션 UX 규칙
- 클릭 타깃: 최소 높이 36px 이상 유지.
- 상태: hover/active/disabled/playing 상태를 클래스 기반으로 일관 처리.
- 오버레이: 모달/바텀시트는 backdrop + close button + 외부영역 클릭 닫기.
- 재생 문맥: 현재 영상/현재 시간 하이라이트는 색상/보더로 통일.

## 2-4. 접근성/가독성
- 버튼/아이콘 버튼에는 title 또는 aria-label 제공.
- 텍스트 줄임(ellipsis) 사용 시 전체 컨텍스트를 해치지 않는 레이아웃 유지.
- 대비 비율: 주요 텍스트/보조 텍스트 대비를 토큰 수준에서 관리.

## 2-5. 코드 구조 가이드
- `styles/design-system.css`: 토큰 + 공통 컴포넌트만 배치.
- `styles/popup.css`: 화면/도메인 특화 레이아웃만 배치.
- JS는 “상태/렌더/이벤트 바인딩” 레이어를 함수 단위로 분리.
- 신규 UI는 먼저 DS 클래스 조합으로 구현 후, 불가한 경우에만 전용 스타일 추가.

## 2-6. 다음 리팩터링 우선순위
1. 바텀시트/리스트 아이템에 컴포넌트 네이밍 규칙(BEM 또는 DS prefix) 정규화.
2. 버튼 스타일 변형(ghost/danger/xs/icon)의 토큰화 강화.
3. 상태 클래스(`is-active-time`, `playing-video`)를 공통 state 스타일 레이어로 이동.
4. 팝업/콘텐츠 스크립트에서 색상/크기 하드코딩 값 제거.
